{% extends 'base_with_nav.html' %}
{% load static %}

{% block title %}登録メンバー | 引越しGO{% endblock %}
{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/member_list.css' %}">
{% endblock %}

{% block content %}
<div class="member-wrapper">
  <h2>登録メンバー</h2>

  <p class="note">
  ※ メッセージの送信は「メッセージ」画面から行います。
  </p>

  <div class="member-list">
    {% for member in members %}
      <div class="member-card">
        <p>名前：{{ member.full_name|default:"未設定" }}</p>
        <p>メールアドレス：{{ member.email }}</p>

        {% if is_owner and member != current_user %}
          <form method="post" action="{% url 'member_remove' member.id %}">
            {% csrf_token %}
            <button class="btn-remove" type="submit">
              引越しから解除
            </button>
          </form>
        {% endif %}
      </div>
    {% empty %}
      <p>登録メンバーはいません。</p>
    {% endfor %}
  </div>
</div>
{% endblock %}