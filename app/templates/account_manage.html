{% extends 'base_with_nav.html' %}
{% load static %}

{% block title %}アカウント管理 | 引越しGO{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/account_manage.css' %}">
{% endblock %}

{% block content %}
<div class="account-wrapper">
  <h2>アカウント管理</h2>

  <form method="POST">
    {% csrf_token %}
    
    <div class="form-group">
      <label for="full_name">名前（フルネーム）</label>
      <input
        type="text"
        id="full_name"
        name="full_name"
        value="{% if user.full_name and user.full_name != 'None' %}{{ user.full_name }}{% else %}未設定{% endif %}"
        required
      >
    </div>

    <div class="form-group">
      <label for="email">メールアドレス</label>
      <input type="email" id="email" name="email" value="{{ user.email }}" required>
    </div>

    <div class="form-group">
      <label for="move_date">引越し予定日</label>
      <input type="date" id="move_date" name="move_date" value="{{ user.move_date|date:'Y-m-d' }}">
    </div>

    <button type="submit" class="save-btn">保存</button>
  </form>

  <div class="password-change">
    <a href="{% url 'password_change' %}" class="password-btn">パスワードを変更する</a>
  </div>

  {% if messages %}
  <div class="message-area">
    {% for message in messages %}
      <p>{{ message }}</p>
    {% endfor %}
  </div>
  {% endif %}
</div>
{% endblock %}