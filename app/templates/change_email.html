{% extends 'base_with_nav.html' %}
{% load static %}

{% block title %}メールアドレス変更 | 引越しGO{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/change_email.css' %}">
{% endblock %}

{% block content %}
<div class="change-email-wrapper">
  <h2>メールアドレス変更</h2>

  <form method="POST">
    {% csrf_token %}
    <div class="form-group">
      <label>現在のメールアドレス</label>
      <p>{{ user.email }}</p>
    </div>

    <div class="form-group">
      <label for="new_email">新しいメールアドレス</label>
      <input type="email" id="new_email" name="new_email" required>
    </div>

    <div class="form-group">
      <label for="password">パスワード</label>
      <input type="password" id="password" name="password" required>
    </div>

    <div class="form-group">
      <label for="password_confirm">パスワード再入力</label>
      <input type="password" id="password_confirm" name="password_confirm" required>
    </div>

    <p class="info-text">
      新しいメールアドレスに確認メールを送信します。<br>
      メール内のリンクをクリックして変更を完了してください。
    </p>

    <button type="submit" class="save-btn">メールアドレス変更</button>
  </form>

  {% if messages %}
  <div class="message-area">
    {% for message in messages %}
      <p>{{ message }}</p>
    {% endfor %}
  </div>
  {% endif %}
</div>
{% endblock %}